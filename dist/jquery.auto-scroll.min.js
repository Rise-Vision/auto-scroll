!function(e,t,i,s){"use strict";function n(t,i){this.element=t,this.page=e(t).find(".page"),this.options=e.extend({},l,i),this._defaults=l,this._name=o,this.isLoading=!0,this.draggable=null,this.tween=null,this.calculateProgress=null,this.init()}var o="autoScroll",l={by:"continuous",speed:"medium",duration:10,pause:5,click:!1,minimumMovement:3};n.prototype={init:function(){function t(){o.tween.pause(),TweenLite.killDelayedCallsTo(o.calculateProgress),TweenLite.killDelayedCallsTo(l),TweenLite.killDelayedCallsTo(a)}var i,n,o=this,l=null,a=null,h=e(this.element).outerHeight(!0),p=h,r=this.element.scrollHeight-this.element.offsetHeight;this.calculateProgress=function(){p=e(o.element).scrollTop()+h,o.tween.progress(e(o.element).scrollTop()/r).play()},this.canScroll()?("page"===this.options.by?(i="fastest"===this.options.speed?.4:"fast"===this.options.speed?.8:"medium"===this.options.speed?1.2:"slow"===this.options.speed?1.6:2,n=this.page.outerHeight(!0)/e(this.element).outerHeight(!0)*i):(i="fastest"===this.options.speed?60:"fast"===this.options.speed?50:"medium"===this.options.speed?40:"slow"===this.options.speed?30:20,n=Math.abs((this.page.outerHeight(!0)-e(this.element).outerHeight(!0))/i)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.75,minimumMovement:o.options.minimumMovement,onPress:function(){t()},onRelease:function(){"none"!==o.options.by&&TweenLite.delayedCall(o.options.pause,o.calculateProgress)},onClick:function(){o.options.click&&(t(),e(o.element).trigger("scrollClick",[this.pointerEvent]))}}),this.draggable=Draggable.get(this.element),this.tween=TweenLite.to(this.draggable.scrollProxy,n,{scrollTop:r,ease:Linear.easeNone,delay:"page"===this.options.by?this.options.duration:this.options.pause,paused:!0,onUpdate:"page"===this.options.by?function(){Math.abs(o.draggable.scrollProxy.top())>=p&&(o.tween.pause(),p+=h,TweenLite.delayedCall(o.options.duration,a=function(){o.tween.resume()}))}:s,onComplete:function(){TweenLite.delayedCall("page"===o.options.by?o.options.duration:o.options.pause,l=function(){TweenLite.to(o.page,1,{autoAlpha:0,onComplete:function(){o.tween.seek(0).pause(),"page"===o.options.by&&(p=h),e(o.element).trigger("done")}})})}}),TweenLite.set(this.element,{overflowY:"hidden"})):this.options.click&&(Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:.95,minimumMovement:this.options.minimumMovement,onClick:function(){e(o.element).trigger("scrollClick",[this.pointerEvent])}}),this.draggable=Draggable.get(this.element))},canScroll:function(){return this.options&&this.page.height()>e(this.element).height()},destroy:function(){e(this.element).removeData(),this.tween&&this.tween.kill(),this.draggable&&this.draggable.kill(),this.element=null,this.page=null,this.options=null,this._defaults=null,this.draggable=null,this.tween=null,this.calculateProgress=null}},n.prototype.play=function(){this.canScroll()&&"none"!==this.options.by&&this.tween&&(this.isLoading?(this.tween.play(),this.isLoading=!1):(TweenLite.to(this.page,1,{autoAlpha:1}),TweenLite.delayedCall("page"===this.options.by?this.options.duration:this.options.pause,this.calculateProgress)))},n.prototype.pause=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.pause())},n.prototype.stop=function(){this.tween&&(TweenLite.killDelayedCallsTo(this.calculateProgress),this.tween.kill()),this.element=null,this.page=null},e.fn.autoScroll=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new n(this,t))})}}(jQuery,window,document);