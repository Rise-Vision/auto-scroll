(function(b,q,r,p){function d(a,c){this.element=a;this.page=b(a).find(".page");this.options=b.extend({},g,c);this._defaults=g;this._name=f;this.init()}var f="autoScroll",g={scrollBy:"continuous",scrollSpeed:"medium",scrollResumes:5},h=!0,l=null,a=null,n=null;d.prototype={init:function(){var e,c=this,d=null,f=null,g=null,m=b(this.element).outerHeight(!0),k=m,h=this.element.scrollHeight-this.element.offsetHeight;this.canScroll()&&("page"===this.options.scrollBy?(e="fastest"===this.options.scrollSpeed?
0.4:"fast"===this.options.scrollSpeed?0.8:"medium"===this.options.scrollSpeed?1.2:"slow"===this.options.scrollSpeed?1.6:2,e*=this.page.outerHeight(!0)/b(this.element).outerHeight(!0)):(e="fastest"===this.options.scrollSpeed?50:"fast"===this.options.scrollSpeed?40:"medium"===this.options.scrollSpeed?30:"slow"===this.options.scrollSpeed?20:10,e=Math.abs((this.page.outerHeight(!0)-b(this.element).outerHeight(!0))/e)),Draggable.create(this.element,{type:"scrollTop",throwProps:!0,edgeResistance:0.75,onPress:function(){a.pause();
TweenLite.killDelayedCallsTo(d);TweenLite.killDelayedCallsTo(f);TweenLite.killDelayedCallsTo(n);TweenLite.killDelayedCallsTo(g)},onRelease:function(){TweenLite.delayedCall(c.options.scrollResumes,d=function(){a.progress(b(c.element).scrollTop()/h).play()})}}),l=Draggable.get(this.element),a=TweenLite.to(l.scrollProxy,e,{scrollTop:h,ease:Linear.easeNone,delay:this.options.scrollResumes,paused:!0,onUpdate:"page"===this.options.scrollBy?function(){Math.abs(l.scrollProxy.top())>=k&&(a.pause(),k+=m,TweenLite.delayedCall(c.options.scrollResumes,
g=function(){a.resume()}))}:p,onComplete:function(){TweenLite.delayedCall(c.options.scrollResumes,f=function(){TweenLite.to(c.page,1,{autoAlpha:0,onComplete:function(){a.seek(0).pause();TweenLite.to(c.page,1,{autoAlpha:1,onComplete:function(){"page"===c.options.scrollBy&&(k=m);doneEvent()}})}})})}}),TweenLite.set(this.element,{clearProps:"overflowY"}))},canScroll:function(){return this.page.height()>b(this.element).height()}};d.prototype.play=function(){this.canScroll()&&"none"!==this.options.scrollBy&&
a&&(h?(a.play(),h=!1):TweenLite.delayedCall(this.options.scrollResumes,n=function(){a.play()}))};d.prototype.pause=function(){a&&a.pause()};d.prototype.stop=function(){a&&a.kill();this.page=this.element=null};b.fn.autoScroll=function(a){return this.each(function(){b.data(this,"plugin_"+f)||b.data(this,"plugin_"+f,new d(this,a))})}})(jQuery,window,document);